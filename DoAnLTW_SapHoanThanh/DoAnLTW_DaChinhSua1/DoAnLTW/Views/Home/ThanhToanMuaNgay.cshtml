
@{
    ViewBag.Title = "ThanhToanMuaNgay";
    Layout = "~/Views/Shared/LayoutPhuKienDTh.cshtml";
}

<div class="container mt-4 mb-5">
    <h3 class="text-center text-primary fw-bold mb-4">XÁC NHẬN ĐẶT HÀNG</h3>

    <div class="row">
        <div class="col-md-6">
            <div class="card shadow-sm">
                <div class="card-header bg-primary text-white fw-bold">
                    <i class="bi bi-person-lines-fill"></i> Thông tin giao hàng
                </div>
                <div class="card-body">
                    @using (Html.BeginForm("ConfirmMuaNgay", "Home", FormMethod.Post))
{
                        @Html.AntiForgeryToken()

                        <div class="mb-3">
                            <label class="form-label fw-semibold">Người nhận:</label>
                            <input type="text" class="form-control bg-light" value="@(kh != null ? kh.HoTen : "")" readonly />
                        </div>

                        <div class="mb-3">
                            <label class="form-label fw-semibold text-danger">Số điện thoại nhận hàng (*):</label>
                            <input type="text" name="sdtNhan" class="form-control border-primary" value="@(kh != null ? kh.DienThoai : "")" required placeholder="Nhập số điện thoại..." />
                        </div>

                        <div class="mb-3">
                            <label class="form-label fw-semibold text-danger">Địa chỉ nhận hàng (*):</label>
                            <textarea name="diaChiNhan" class="form-control border-primary" rows="3" required placeholder="Nhập địa chỉ giao hàng...">@(kh != null ? kh.DiaChi : "")</textarea>
                        </div>

                        <button type="submit" class="btn btn-danger w-100 py-3 fw-bold fs-5 shadow-sm mt-3">
                            <i class="bi bi-check2-circle"></i> XÁC NHẬN THANH TOÁN
                        </button>
                    }
                </div>
            </div>
        </div>

        <div class="col-md-6">
            <div class="card shadow-sm border-0 bg-light">
                <div class="card-header bg-secondary text-white fw-bold">
                    <i class="bi bi-receipt"></i> Đơn hàng của bạn
                </div>
                <div class="card-body p-0">
                    <ul class="list-group list-group-flush">
                        @if (Model != null)
                        {
                            foreach (var item in Model)
                            {
                                <li class="list-group-item d-flex justify-content-between align-items-center bg-transparent">
                                    <div>
                                        <span class="fw-semibold">@item.TenSP</span>
                                        <br />
                                        <small class="text-muted">
                                            SL: @item.SoLuong x <span class="text-danger">@string.Format("{0:N0}đ", item.DonGia)</span>
                                        </small>
                                    </div>
                                    <span class="text-dark fw-bold">@string.Format("{0:N0}đ", item.ThanhTien)</span>
                                </li>
                            }
                        }
                        <li class="list-group-item d-flex justify-content-between align-items-center bg-white mt-2 py-3">
                            <span class="fw-bold fs-5 text-uppercase">Tổng:</span>
                            <span class="text-danger fw-bold fs-3">@string.Format("{0:N0}đ", ViewBag.TongTien)</span>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</div>

