@model IEnumerable<DoAnLTW.Models.SanPham>
@{
    ViewBag.Title = "Quản lý Sản phẩm";
    Layout = "~/Views/Shared/_LayoutAdmin.cshtml";
}

<div class="card shadow-sm">
    <div class="card-header bg-primary text-white">
        <div class="d-flex justify-content-between align-items-center">
            <h2 class="mb-0">
                <i class="bi bi-box-seam-fill me-2"></i> @ViewBag.Title
            </h2>

            @Html.ActionLink("Thêm sản phẩm mới", "Create", null, new { @class = "btn btn-light" })
        </div>
    </div>

    <div class="card-body">
        <div class="table-responsive">
            <table class="table table-striped table-bordered table-hover align-middle">
                <thead class="table-dark">
                    <tr>
                        <th style="width: 10%;">
                            Sản phẩm
                        </th>
                        <th>
                            Tên sản phẩm
                        </th>
                        <th style="width: 15%;">
                            Loại (Danh mục)
                        </th>
                        <th style="width: 15%;">
                            Giá
                        </th>
                        <th style="width: 10%;">
                            Tình trạng
                        </th>
                        <th style="width: 15%;" class="text-center">
                            Thao tác
                        </th>
                    </tr>
                </thead>

                <tbody>
                    @foreach (var item in Model)
                    {
                        <tr>
                            <td>
                                <img src="@Url.Content("~/Content/HinhAnhAdmin/" + item.HinhAnh)"
                                     alt="@item.TenSP"
                                     class="img-fluid rounded"
                                     style="width: 80px; height: 80px; object-fit: cover;" />
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.TenSP)
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.DanhMuc.TenDM)
                            </td>
                            <td>
                                @string.Format("{0:N0} ₫", item.Gia)
                            </td>
                            <td>
                                @if (item.TinhTrang == "Còn hàng")
                                {
                                    <span class="badge bg-success">@item.TinhTrang</span>
                                }
                                else
                                {
                                    <span class="badge bg-danger">@item.TinhTrang</span>
                                }
                            </td>
                            <td class="text-center">
                                @Html.ActionLink("Sửa", "Edit", new { id = item.MaSP.Trim() },
                                         new { @class = "btn btn-warning btn-sm me-2", title = "Sửa" })

                                @Html.ActionLink("Xóa", "Delete", new { id = item.MaSP.Trim() },
                                         new { @class = "btn btn-danger btn-sm", title = "Xóa" })
                            </td>
                        </tr>
                    }
                </tbody>
            </table>
        </div>
    </div>
</div>